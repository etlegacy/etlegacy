[workspace]
authors = ["ET:Legacy Team"]
channels = [
    "conda-forge",
]
name = "etlegacy"
version = "0.0.0"

platforms = ["linux-64", "osx-64", "win-64"]

[tasks]
"collect-and-check-gh-build-logs" = { cmd = ["python", "./misc/collect-and-check-gh-build-logs.py"] }
"i18n-transifex-pull" = { cmd = ["python", "./misc/i18n-transifex-wrapper.py", "pull", "--force"] }
"i18n-sync-pot-files" = { cmd = ["python", "./misc/i18n-sync-pot-files.py"] }

[dependencies]
"git" = "2.49.0.*"
"python" = "3.13.3.*"
"requests" = "2.32.4.*"


[feature.libclang.tasks]
"clang-regenerate-luals-definitions" = { cmd = ["python", "./misc/clang-regenerate-luals-definitions.py", "./src/game/g_lua.c"]}
"clang-padding-report" = { cmd = ["python", "./misc/clang-padding-report.py"] }
[feature.libclang.dependencies]
"python-clang" = "20.1.5.*"

[feature.validation.tasks]
autoformat = { cmd = ["python", "./misc/autoformat.py"] }
check-changes = { cmd = ["python", "./misc/check-changes.py"] }
[feature.validation.dependencies]
"actionlint" = "1.7.7.*"
"black"      = "25.1.0.*"
"go-shfmt"   = "3.12.0.*"
"prettier"   = "3.5.3.*"
"shellcheck" = "0.10.0.*"
"uncrustify" = "0.78.1.*"

[environments]
libclang = ["libclang"]
validation = ["validation"]
